grep命令
grep命令是UNIX中用于文本搜索的大师级工具。


从stdin中读取：
whwu@master:~> echo -e "this is a word\nhaha"
this is a word
haha
whwu@master:~> echo -e "this is a word\nhaha" | grep word
this is a word


whwu@master:~/script> echo this is a line. | egrep -o "[a-z]+\."  #egrep 可以用于正则表达式，-o 表示只打印匹配到的内容[a-z]+表示任意长度的字母，\为转译符，表示以.结尾的字母串
line.

whwu@master:~/script> cat 1.txt
book google
baidu book book
i lovae shell book apple
whwu@master:~/script> egrep -o "book" 1.txt   # -o 表示只打印匹配到的内容
book
book
book
book

whwu@master:~/script> cat 1.txt
book google
baidu book
i lovae shell book apple
whwu@master:~/script> grep -v "google" 1.txt  # -v invert 打印不匹配的行
baidu book
i lovae shell book apple


whwu@master:~/script> cat 1.txt
book google
baidu book book
i lovae shell book apple
whwu@master:~/script> egrep -c "book" 1.txt  # -c 统计匹配的行数
3

whwu@master:~/script> cat 1.txt
book google
baidu book book
i lovae shell book apple
whwu@master:~/script> egrep -o "book" 1.txt | wc -l   #统计所匹配内容的个数
4

whwu@master:~/script> cat 1.txt
book google
baidu book book
i lovae shell book apple
whwu@master:~/script> egrep -n "google" 1.txt  # -n 打印出包含匹配字符串的行数
1:book google


whwu@master:~/script> cat 1.txt
book google
baidu book book
i lovae shell book apple
whwu@master:~/script> grep -b -o "book" 1.txt  # 打印样式匹配所位于的字符或字节偏移
0:book
18:book
23:book
42:book

whwu@master:~/script> grep "google" . -R -n   #递归搜索 搜索整个当前文件夹
./1.txt:1:book google
./new:1:google 110 5000
./3.txt:1:booka google
./facebook.txt:1:       google 110 5000

whwu@master:~/script> cat 1.txt
book google
baidu book book
i lovae shell book apple
whwu@master:~/script> grep -e "google" -e "shell" 1.txt       # -e grep匹配多个样式
book google
i lovae shell book apple

######有问题#######
whwu@master:~/script> grep "google" . -r --include *.txt      # -r的意思是递归的对目录下的所有文件(包括子目录)进行搜索  --include *.txt表示txt文件  .{cc,ccp}表示.c和.ccp文件
./1.txt:book google
###################

打印出匹配文本之前或之后的行
whwu@master:~/script> seq 10
1
2
3
4
5
6
7
8
9
10
whwu@master:~/script> seq 10 | grep 5 -A 3  #打印5之后的三行
5
6
7
8
whwu@master:~/script> seq 10 | grep 5 -A 3 | sed 1d #删除第一行
6
7
8
whwu@master:~/script> seq 10 | grep 5 -A 3 | sed '$d'  #删除最后一行
5
6
7
whwu@master:~/script> seq 10 | grep 5 -B 3   #打印5之前的三行
2
3
4
5
whwu@master:~/script> seq 10 | grep 5 -A 1 -B 2  #打印5之后一行以及之前两行
3
4
5
6
whwu@master:~/script> seq 10 | grep 5 -C 2    #打印5之前之后两行
3
4
5
6
7


whwu@master:~/script> cat 9.txt
.a
.ab
.abc
.abcd
.abcdef
.wer
whwu@master:~/script> egrep -o "\.[a-z]{3,4}" 9.txt   #\转译符 [a-z]{3,4} 三个到四个字母
.abc
.abcd
.abcd
.wer






